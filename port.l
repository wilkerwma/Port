%{
#include "port.h"
#include <stdlib.h>
%}

/* Números*/

branco [ \t]+
digito [0-9]
numero -?{digito}+
exponencial [eE][+-]?{numero}
real {numero}("."{numero})?{exponencial}?

/*Variáveis*/

VARIAVEL [a-zA-Z]+[a-zA-Z{digit}]*

%%

"RECEBE" return(RECEBE);
"MAIS" return(MAIS);
"MENOS" return(MENOS);
"VEZES" return(VEZES);
"DIVIDA" return(DIVIDA);
"ELEVADO" return(ELEVADO);

"(" return(PARENTESES_ESQ);
")" return(PARENTESES_DIR);
"[" return(COLCHETE_ESQ);
"]" return(COLCHETE_DIR);
"{" return(CHAVES_ESQ);
"}" return(CHAVES_DIR);

{branco} {/* Não faz nada*/}

{real} {yylval.real = atof(yytext);return NUMBER;}

{VARIAVEL} {yylval.strval = strdup(yytext);return VARIAVEL;}

"\n" return(FIM);

%%

int yywrap(void){
    return 0;
}
